
# üõ°Ô∏è HEADERS DE SEGURIDAD RECOMENDADOS (Copiar a Cloudflare Transform Rules o _headers)

# 1. Content-Security-Policy (CSP)
# Define estrictamente qu√© recursos pueden cargar el navegador.
# - script-src: Permite scripts propios, de Cloudflare (Turnstile) y ESM (M√≥dulos). 'unsafe-inline' es necesario para la inyecci√≥n de variables del Worker.
# - connect-src: Permite conexiones a la API interna, Turnstile y Data Layer.
# - img-src: Permite im√°genes de Picsum, Data URIs (SVGs) y propias.

Content-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com https://challenges.cloudflare.com https://esm.sh; style-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com; img-src 'self' data: https://picsum.photos https://fastly.picsum.photos; connect-src 'self' https://challenges.cloudflare.com; frame-src https://challenges.cloudflare.com; object-src 'none'; base-uri 'self'; form-action 'self';

# 2. Strict-Transport-Security (HSTS)
# Fuerza HTTPS durante 1 a√±o, incluye subdominios y precarga.
Strict-Transport-Security: max-age=31536000; includeSubDomains; preload

# 3. X-Content-Type-Options
# Evita que el navegador "adivine" el tipo de archivo (MIME Sniffing).
X-Content-Type-Options: nosniff

# 4. Referrer-Policy
# Solo env√≠a el origen (dominio) en enlaces salientes, protegiendo rutas privadas internas.
Referrer-Policy: strict-origin-when-cross-origin

# 5. Permissions-Policy
# Deshabilita caracter√≠sticas del navegador no utilizadas (Micr√≥fono, C√°mara) para reducir superficie de ataque.
Permissions-Policy: accelerometer=(), camera=(), microphone=(), geolocation=(self), payment=(), usb=()
